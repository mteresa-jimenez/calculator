"use strict";let stored=null;const digits=[...Array(10).keys()].map(e=>e.toString()),operations={"+":(e,t)=>e+t,"-":(e,t)=>e-t,"*":(e,t)=>e*t,"/":(e,t)=>e/t},elements={get display(){return document.getElementById("display")},digitButtons:(()=>{const e={};for(let t of digits)Object.defineProperty(e,t,{enumerable:!0,get:()=>document.getElementById("btn-"+t)});return e})(),get separatorButton(){return document.getElementById("btn-separator")},get clearButton(){return document.getElementById("btn-clear")},operationButtons:(()=>{const e={};for(let t of Object.keys(operations))Object.defineProperty(e,t,{enumerable:!0,get:()=>document.getElementById({"+":"btn-add","-":"btn-subtract","*":"btn-multiply","/":"btn-divide"}[t])});return e})(),get calculateButton(){return document.getElementById("btn-calculate")}};function calculate(){const[e,t]=[stored.text,elements.display.textContent].map(e=>parseFloat(e));return operations[stored.opCode](e,t)}function handleDigits(e){elements.display.textContent+=e}function handleSeparator(){const e=elements.display.textContent;e.length&&-1===e.indexOf(".")&&(elements.display.textContent+=".")}function handleClear(){elements.display.textContent="",elements.display.textContent="",stored=null}function handleOperations(e){stored={text:stored?calculate():elements.display.textContent,opCode:e},elements.display.textContent=""}function handleCalculate(){stored&&(elements.display.textContent=calculate(),stored=null)}function handleKeysDown(e){for(let[t]of Object.entries(elements.digitButtons))e.key===t&&(handleDigits(t),elements.digitButtons[t].style.backgroundColor="rgba(201, 196, 196, 0.8)");"Backspace"===e.key?(handleClear(),elements.clearButton.style.backgroundColor="rgba(201, 196, 196, 0.8)"):"."===e.key?(handleSeparator(),elements.separatorButton.style.backgroundColor="rgba(201, 196, 196, 0.8)"):"="===e.key&&(handleCalculate(),elements.calculateButton.style.backgroundColor="rgba(201, 196, 196, 0.8)");for(let[t]of Object.entries(elements.operationButtons))e.key===t&&(handleOperations(t),elements.operationButtons[t].style.backgroundColor="rgba(201, 196, 196, 0.8)")}function handleKeysUp(e){for(let[t]of Object.entries(elements.digitButtons))e.key===t&&(elements.digitButtons[t].style.backgroundColor="rgba(201, 196, 196, 0.1)");"Backspace"===e.key?elements.clearButton.style.backgroundColor="rgba(201, 196, 196, 0.1)":"."===e.key?elements.separatorButton.style.backgroundColor="rgba(201, 196, 196, 0.1)":"="===e.key&&(elements.calculateButton.style.backgroundColor="rgba(201, 196, 196, 0.1)");for(let[t]of Object.entries(elements.operationButtons))e.key===t&&(elements.operationButtons[t].style.backgroundColor="rgba(201, 196, 196, 0.1)")}let touchstartX=0,touchendX=0;function handleSetUpClearTouch(){touchendX<touchstartX&&handleClear()}function setUpClearTouch(){elements.display.addEventListener("touchstart",(function(e){touchstartX=e.changedTouches[0].screenX}),!1),elements.display.addEventListener("touchend",(function(e){touchendX=e.changedTouches[0].screenX,handleSetUpClearTouch()}),!1)}function setUpEntryButtons(){for(let[e,t]of Object.entries(elements.digitButtons))t.addEventListener("click",()=>{handleDigits(e)});elements.separatorButton.addEventListener("click",handleSeparator),elements.clearButton.addEventListener("click",handleClear)}function setUpOperationButtons(){for(let[e,t]of Object.entries(elements.operationButtons))t.addEventListener("click",()=>{handleOperations(e)})}function setUpCalculateButton(){elements.calculateButton.addEventListener("click",handleCalculate)}function setUpKeys(){window.addEventListener("keydown",handleKeysDown),window.addEventListener("keyup",handleKeysUp)}setUpKeys(),setUpClearTouch(),setUpEntryButtons(),setUpOperationButtons(),setUpCalculateButton();